{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Volumes/HDD - Veriler/projects/twitter-trends/pages/components/map.js\";\nimport { useState, useEffect } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport MapMarker from './MapMarker';\nimport MapInfoBox from './MapInfoBox';\nvar turkey = {\n  lat: 41.015137,\n  lng: 28.979530\n};\n\nconst Map = ({\n  eventData,\n  center,\n  zoom\n}) => {\n  const {\n    0: locationInfo,\n    1: setLocationInfo\n  } = useState({});\n  const markers = eventData.map(ev => {\n    var lat = parseFloat(ev.lat);\n    var lng = parseFloat(ev.long);\n    console.log(ev);\n    return /*#__PURE__*/_jsxDEV(MapMarker, {\n      lat: lat,\n      lng: lng,\n      onClick: () => setLocationInfo(ev)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 16\n    }, this);\n  });\n\n  function handleClick(e) {\n    var lat = e.lat;\n    var lng = e.lng;\n    fetch(\"/api/closest\", {\n      method: \"post\",\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        lat: lat,\n        lng: lng\n      })\n    }).then(res => res.json()).then(function (res) {\n      console.log(res);\n      const woeid = res[0].woeid;\n      fetch(\"/api/trends\", {\n        method: \"post\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          woeid: woeid\n        })\n      }).then(res => res.json()).then(function (r) {//console.log(r)\n      });\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"map\",\n    children: [/*#__PURE__*/_jsxDEV(GoogleMapReact, {\n      bootstrapURLKeys: {\n        key: 'AIzaSyBKcbWgVYRSdCv0PCn6dCOvgdV7MjcE-R0'\n      },\n      defaultCenter: center,\n      defaultZoom: zoom,\n      onClick: e => handleClick(e),\n      children: markers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"right\",\n      children: [\"lorem \", locationInfo]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), locationInfo && /*#__PURE__*/_jsxDEV(MapInfoBox, {\n      info: locationInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 30\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n\nMap.defaultProps = {\n  center: {\n    lat: 42.3265,\n    lng: -122.8756\n  },\n  zoom: 1\n};\nexport default Map;","map":{"version":3,"sources":["/Volumes/HDD - Veriler/projects/twitter-trends/pages/components/map.js"],"names":["useState","useEffect","GoogleMapReact","MapMarker","MapInfoBox","turkey","lat","lng","Map","eventData","center","zoom","locationInfo","setLocationInfo","markers","map","ev","parseFloat","long","console","log","handleClick","e","fetch","method","headers","body","JSON","stringify","then","res","json","woeid","r","key","defaultProps"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,IAAIC,MAAM,GAAG;AACTC,EAAAA,GAAG,EAAE,SADI;AAETC,EAAAA,GAAG,EAAE;AAFI,CAAb;;AAIA,MAAMC,GAAG,GAAG,CAAC;AAAEC,EAAAA,SAAF;AAAaC,EAAAA,MAAb;AAAqBC,EAAAA;AAArB,CAAD,KAAiC;AACzC,QAAM;AAAA,OAACC,YAAD;AAAA,OAAeC;AAAf,MAAkCb,QAAQ,CAAC,EAAD,CAAhD;AAEA,QAAMc,OAAO,GAAGL,SAAS,CAACM,GAAV,CAAcC,EAAE,IAAI;AAChC,QAAIV,GAAG,GAAGW,UAAU,CAACD,EAAE,CAACV,GAAJ,CAApB;AACA,QAAIC,GAAG,GAAGU,UAAU,CAACD,EAAE,CAACE,IAAJ,CAApB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,EAAZ;AACA,wBAAO,QAAC,SAAD;AAAW,MAAA,GAAG,EAAEV,GAAhB;AAAqB,MAAA,GAAG,EAAEC,GAA1B;AAA+B,MAAA,OAAO,EAAE,MAAMM,eAAe,CAACG,EAAD;AAA7D;AAAA;AAAA;AAAA;AAAA,YAAP;AACH,GALe,CAAhB;;AAOA,WAASK,WAAT,CAAqBC,CAArB,EAAwB;AACpB,QAAIhB,GAAG,GAAGgB,CAAC,CAAChB,GAAZ;AACA,QAAIC,GAAG,GAAGe,CAAC,CAACf,GAAZ;AACAgB,IAAAA,KAAK,CAAC,cAAD,EAAiB;AAClBC,MAAAA,MAAM,EAAE,MADU;AAElBC,MAAAA,OAAO,EAAE;AACL,kBAAU,kBADL;AAEL,wBAAgB;AAFX,OAFS;AAMlBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBtB,QAAAA,GAAG,EAAEA,GADY;AAEjBC,QAAAA,GAAG,EAAEA;AAFY,OAAf;AANY,KAAjB,CAAL,CAWKsB,IAXL,CAWUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAXjB,EAYKF,IAZL,CAYU,UAAUC,GAAV,EAAe;AACjBX,MAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ;AACA,YAAME,KAAK,GAAGF,GAAG,CAAC,CAAD,CAAH,CAAOE,KAArB;AAEAT,MAAAA,KAAK,CAAC,aAAD,EAAgB;AACjBC,QAAAA,MAAM,EAAE,MADS;AAEjBC,QAAAA,OAAO,EAAE;AACL,oBAAU,kBADL;AAEL,0BAAgB;AAFX,SAFQ;AAMjBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBI,UAAAA,KAAK,EAAEA;AADU,SAAf;AANW,OAAhB,CAAL,CAUKH,IAVL,CAUUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAVjB,EAWKF,IAXL,CAWU,UAAUI,CAAV,EAAa,CACf;AACH,OAbL;AAcH,KA9BL;AA+BH;;AAED,sBACI;AAAK,IAAA,EAAE,EAAC,KAAR;AAAA,4BACI,QAAC,cAAD;AACI,MAAA,gBAAgB,EAAE;AAAEC,QAAAA,GAAG,EAAE;AAAP,OADtB;AAEI,MAAA,aAAa,EAAExB,MAFnB;AAGI,MAAA,WAAW,EAAEC,IAHjB;AAII,MAAA,OAAO,EAAGW,CAAD,IAAOD,WAAW,CAACC,CAAD,CAJ/B;AAAA,gBAMKR;AANL;AAAA;AAAA;AAAA;AAAA,YADJ,eASI;AAAG,MAAA,SAAS,EAAC,OAAb;AAAA,2BAA4BF,YAA5B;AAAA;AAAA;AAAA;AAAA;AAAA,YATJ,EAWKA,YAAY,iBAAI,QAAC,UAAD;AAAY,MAAA,IAAI,EAAEA;AAAlB;AAAA;AAAA;AAAA;AAAA,YAXrB;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAeH,CA7DD;;AA+DAJ,GAAG,CAAC2B,YAAJ,GAAmB;AACfzB,EAAAA,MAAM,EAAE;AACJJ,IAAAA,GAAG,EAAE,OADD;AAEJC,IAAAA,GAAG,EAAE,CAAC;AAFF,GADO;AAKfI,EAAAA,IAAI,EAAE;AALS,CAAnB;AAQA,eAAeH,GAAf","sourcesContent":["import { useState, useEffect } from 'react'\nimport GoogleMapReact from 'google-map-react'\nimport MapMarker from './MapMarker'\nimport MapInfoBox from './MapInfoBox'\n\nvar turkey = {\n    lat: 41.015137,\n    lng: 28.979530\n}\nconst Map = ({ eventData, center, zoom }) => {\n    const [locationInfo, setLocationInfo] = useState({})\n\n    const markers = eventData.map(ev => {\n        var lat = parseFloat(ev.lat);\n        var lng = parseFloat(ev.long)\n        console.log(ev)\n        return <MapMarker lat={lat} lng={lng} onClick={() => setLocationInfo(ev)} />\n    })\n\n    function handleClick(e) {\n        var lat = e.lat;\n        var lng = e.lng;\n        fetch(\"/api/closest\", {\n            method: \"post\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                lat: lat,\n                lng: lng\n            })\n        })\n            .then(res => res.json())\n            .then(function (res) {\n                console.log(res)\n                const woeid = res[0].woeid;\n\n                fetch(\"/api/trends\", {\n                    method: \"post\",\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({\n                        woeid: woeid\n                    })\n                })\n                    .then(res => res.json())\n                    .then(function (r) {\n                        //console.log(r)\n                    })\n            })\n    }\n\n    return (\n        <div id=\"map\">\n            <GoogleMapReact\n                bootstrapURLKeys={{ key: 'AIzaSyBKcbWgVYRSdCv0PCn6dCOvgdV7MjcE-R0' }}\n                defaultCenter={center}\n                defaultZoom={zoom}\n                onClick={(e) => handleClick(e)}\n            >\n                {markers}\n            </GoogleMapReact>\n            <p className=\"right\">lorem {locationInfo}</p>\n\n            {locationInfo && <MapInfoBox info={locationInfo} />}\n        </div>\n    )\n}\n\nMap.defaultProps = {\n    center: {\n        lat: 42.3265,\n        lng: -122.8756\n    },\n    zoom: 1\n}\n\nexport default Map"]},"metadata":{},"sourceType":"module"}